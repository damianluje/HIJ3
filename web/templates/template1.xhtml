<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
    <h:head>
        <title>Facelet Title</title>
        <!--<h:outputStylesheet  name="css/style.css" />-->
        <h:outputStylesheet  name="css/theme.css" />
    </h:head>
    <h:body>

        <f:view>
            <h:form>
                <c:set var="opcAdmOpc" value="Administrar Opciones" />
                <c:set var="opcAdmSis" value="Administrar Sistemas" />
                <c:set var="opcAdmUsu" value="Administrar Usuarios" />
                <c:set var="opcAdmPer" value="Administrar Perfiles" />
                <c:set var="opcAdmRol" value="Administrar Roles" />
                <c:set var="opcAdmEmp" value="Administrar Empleados" />
                <c:set var="opcAdmPro" value="Administrar Proveedores" />
                <c:set var="opcAdmUsuxPer" value="Administrar UsuarioxPerfil" />
                
                
                <p:growl id="messages" showDetail="false"/>

                <div id="MENUSIDE">
                    <div id="MENUSIDEindent">
                        <h3>MENU</h3>
                        <p:menu toggleable="true" >
                            <p:submenu label="Seguridades">
                                <p:menuitem value="Sistemas" url="Sistemas.xhtml" icon="ui-icon-home" 
                                            disabled="#{!controladorPermisos.getRol(opcAdmSis).LSelect 
                                                        and !controladorPermisos.getRol(opcAdmSis).LInsert
                                                        and !controladorPermisos.getRol(opcAdmSis).LUpdate
                                                        and !controladorPermisos.getRol(opcAdmSis).LDelete}" 
                                            styleClass="#{view.viewId == '/Sistemas.xhtml' ? 'ui-state-active' : ''}"/>
                                <p:menuitem value="Usuarios" url="Usuarios.xhtml" icon="ui-icon-home" 
                                            disabled="#{!controladorPermisos.getRol(opcAdmUsu).LSelect 
                                                        and !controladorPermisos.getRol(opcAdmUsu).LInsert
                                                        and !controladorPermisos.getRol(opcAdmUsu).LUpdate
                                                        and !controladorPermisos.getRol(opcAdmUsu).LDelete}" 
                                            styleClass="#{view.viewId == '/Usuarios.xhtml' ? 'ui-state-active' : ''}"/>
                                <p:menuitem value="Opciones" url="Opciones.xhtml" icon="ui-icon-home"
                                            disabled="#{!controladorPermisos.getRol(opcAdmOpc).LSelect 
                                                        and !controladorPermisos.getRol(opcAdmOpc).LInsert
                                                        and !controladorPermisos.getRol(opcAdmOpc).LUpdate
                                                        and !controladorPermisos.getRol(opcAdmOpc).LDelete}" 
                                            styleClass="#{view.viewId == '/Opciones.xhtml' ? 'ui-state-active' : ''}"/>
                                <p:menuitem value="Perfiles" url="Perfiles.xhtml" icon="ui-icon-home"
                                            disabled="#{!controladorPermisos.getRol(opcAdmPer).LSelect 
                                                        and !controladorPermisos.getRol(opcAdmPer).LInsert
                                                        and !controladorPermisos.getRol(opcAdmPer).LUpdate
                                                        and !controladorPermisos.getRol(opcAdmPer).LDelete}"  
                                            styleClass="#{view.viewId == '/Perfiles.xhtml' ? 'ui-state-active' : ''}"/>
                                <p:menuitem value="Usuarios por Perfil" url="UsuarioxPerfil.xhtml" icon="ui-icon-home"
                                            disabled="#{!controladorPermisos.getRol(opcAdmUsuxPer).LSelect 
                                                        and !controladorPermisos.getRol(opcAdmUsuxPer).LInsert
                                                        and !controladorPermisos.getRol(opcAdmUsuxPer).LUpdate
                                                        and !controladorPermisos.getRol(opcAdmUsuxPer).LDelete}"  
                                            styleClass="#{view.viewId == '/Perfiles.xhtml' ? 'ui-state-active' : ''}"/>
                                <p:menuitem value="Roles" url="OP.xhtml" icon="ui-icon-home"
                                            styleClass="#{view.viewId == '/OP.xhtml' ? 'ui-state-active' : ''}"/>
                            </p:submenu>
                            <p:submenu label="Personal">
                                <p:menuitem value="Empleados" url="Empleados.xhtml" icon="ui-icon-home"
                                            disabled="#{!controladorPermisos.getRol(opcAdmEmp).LSelect 
                                                        and !controladorPermisos.getRol(opcAdmEmp).LInsert
                                                        and !controladorPermisos.getRol(opcAdmEmp).LUpdate
                                                        and !controladorPermisos.getRol(opcAdmEmp).LDelete}" 
                                            styleClass="#{view.viewId == '/Empleados.xhtml' ? 'ui-state-active' : ''}"/>
                            </p:submenu>
                            <p:submenu label="Salud">
                                <p:menuitem value="Proveedores" url="Proveedores.xhtml" icon="ui-icon-home" 
                                            disabled="#{!controladorPermisos.getRol(opcAdmPro).LSelect 
                                                        and !controladorPermisos.getRol(opcAdmPro).LInsert
                                                        and !controladorPermisos.getRol(opcAdmPro).LUpdate
                                                        and !controladorPermisos.getRol(opcAdmPro).LDelete}" 
                                            styleClass="#{view.viewId == '/Proveedores.xhtml' ? 'ui-state-active' : ''}"/>
                                <p:menuitem value="Tipo de Servicios" url="TipoServicios.xhtml" icon="ui-icon-home"
                                            styleClass="#{view.viewId == '/TipoServicios.xhtml' ? 'ui-state-active' : ''}"/>
                                <p:menuitem value="Pacientes" url="Pacientes.xhtml" icon="ui-icon-home"
                                            styleClass="#{view.viewId == '/Pacientes.xhtml' ? 'ui-state-active' : ''}"/>
                                <p:menuitem value="Facturas" url="Facturas.xhtml" icon="ui-icon-home"
                                            styleClass="#{view.viewId == '/Facturas.xhtml' ? 'ui-state-active' : ''}"/>
                                <p:menuitem value="Detalles por Factura" url="DetallesFactura.xhtml" icon="ui-icon-home"
                                            styleClass="#{view.viewId == '/DetallesFactura.xhtml' ? 'ui-state-active' : ''}"/>
                            </p:submenu>
                            <p:submenu label="Acceso">
                                <p:menuitem value="Admin" url="admin.xhtml" icon="ui-icon-home"
                                            styleClass="#{view.viewId == '/admin.xhtml' ? 'ui-state-active' : ''}"/>
                                <p:menuitem value="Cambiar ContraseÃ±a" url="CambiarPass.xhtml" icon="ui-icon-home"
                                            styleClass="#{view.viewId == '/CambiarPass.xhtml' ? 'ui-state-active' : ''}"/>
                            </p:submenu>
                        </p:menu>
                    </div>
                </div>

                <div id="CONTENTSIDE">
                    Usuario en el sistema: #{controladorPermisos.cargarUsuarioActual()}<br/>
                    <div id="CONTENTSIDEindent">
                        <ui:insert name="contenido">
                        </ui:insert>
                    </div>
                </div>


            </h:form>
        </f:view>



    </h:body>
</html>

